(function(a,b){$(function(){if(typeof a.momentum==="undefined"){a.momentum={}}var c=a.document;var d=0;momentum.services=function(){momentum.log("help")};momentum.services.cacheTime=60000;momentum.services.ajaxSettings={lifetime:momentum.services.cacheTime,error:momentum.services.onError,showException:"true",headers:{"X-Momentum-API-KEY":'MEj8CRgjhKZ3HcSL06x\/XefU4B6zoctT5+Lj2wVHJuE='}};momentum.services.createCallParameters=function(e,f){return $.extend({},f,{Method:e})};momentum.services.ajaxPost=function(f,j,i,e,h){var g=$.extend({},momentum.services.ajaxSettings,e);
return ajaxCallMethod(f,j,[i],h,momentum.services.onError,g)};

momentum.services.ajaxGet=function(g,k,j,f,i)
{if(!f){f={}}var e=momentum.services.createCallParameters(k,j);var h=$.extend({},momentum.services.ajaxSettings,f);
console.log('ajaxGet momentum-service.js');
return momentum.ajaxRequest("GET",g,e,i,h)
};

momentum.services.authorizationService={handler:"http://test-marknad.sgsstudentbostader.se/API/Service/AuthorizationServiceHandler.ashx",postLoginRequest:function(f,i,e,h){var g={SyndicateNo:f,Username:i,Password:e};return momentum.services.ajaxPost(momentum.services.authorizationService.handler,"PostLoginRequest",g,{},h)},postIsSeller:function(e,g){if($.isFunction(g)){momentum.services.ajaxPost(momentum.services.authorizationService.handler,"PostIsSeller",e,{},g)}else{var f;momentum.services.ajaxPost(momentum.services.authorizationService.handler,"PostIsSeller",e,{async:false},function(h){f=h});return f}},getLoginStatus:function(e){momentum.services.ajaxGet(momentum.services.authorizationService.handler,"GetLoginStatus",{},{},e)},getHMSLoginRemoteObject:function(e,f){momentum.services.ajaxGet(momentum.services.authorizationService.handler,"GetHMSLoginRemoteObject",{},{},f)},postSellerLoginAsClient:function(f,i,e,h){var g={SyndicateNo:f,Username:i,SecurityTokenId:e};momentum.services.ajaxPost(momentum.services.authorizationService.handler,"PostSellerLoginAsClient",g,{},h)},


GRPCreateAutenticateRequest:function(e,g){var f={SyndicateNo:1,Username:e,Password:"test"};momentum.services.ajaxPost(momentum.services.authorizationService.handler,"GRPCreateAutenticateRequest",f,{lifetime:0},g)},GRPCreateSignRequest:function(e,f){momentum.services.ajaxGet(momentum.services.authorizationService.handler,"GRPCreateSignRequest",{socialSecurityNo:e},{lifetime:0},f)},GRPCollectResponse:function(e,f){momentum.services.ajaxGet(momentum.services.authorizationService.handler,"GRPCollectResponse",{type:e},{lifetime:0},f)},GRPLogin:function(e){momentum.services.ajaxGet(momentum.services.authorizationService.handler,"GRPLogin",{},{lifetime:0},e)},GRPPollCollectResult:function(g,j,l,i,f){var k={OUTSTANDING_TRANSACTION:(momentum.settings.clientLanguage=="se"?"Starta BankId säkerhetsprogram på din mobil eller dator.":"Start the BankId säkerhetsprogram application on mobile or your computer"),USER_SIGN:(momentum.settings.clientLanguage=="se"?"Skriv in säkerhetskoden och tryck OK eller avbryt":"Enter the security code and press OK or cancel"),COMPLETE:(momentum.settings.clientLanguage=="se"?"Verifiering godkänd! Vänta...":"Verification complete! Wait..."),ERROR:(momentum.settings.clientLanguage=="se"?"Ett fel inträffade, felkod: ":"An error occured, error code: ")};var h=$.extend({},k,f);var e=j;if(d==0){e.html(h.OUTSTANDING_TRANSACTION)}momentum.services.authorizationService.GRPCollectResponse(g,function(n){switch(n.progressStatus){case 0:if(n.signature.indexOf("GRP_ERROR")==-1){e.html(h.COMPLETE)}break;case 1:e.html(h.USER_SIGN);break;case 2:e.html(h.OUTSTANDING_TRANSACTION)}d++;if(n.progressStatus==0&&n.signature.indexOf("GRP_ERROR")==-1){if($.isFunction(l)){l(n)}}else{if(n.signature&&n.signature.indexOf("GRP_ERROR")!=-1){e.html(h.ERROR+n.signature);i(n)}else{var m=(d<=20?3000:10000);setTimeout(function(){momentum.services.authorizationService.GRPPollCollectResult(g,j,l,i,f)},3000)}}})},GRPSetAuthPerson:function(e,f){momentum.services.ajaxGet(momentum.services.authorizationService.handler,"GRPSetAuthPerson",{eidType:e},{lifetime:0},f)},};











momentum.services.objectService={handler:"API/Service/ObjectServiceHandler.ashx",getObjectInformation:function(m,j,h,k,i,f,l,n){var g={syndicateNo:m,companyNo:j,objectNo:h,clientNo:k,tradingAd:i,designImageWidth:f};var e=$.extend({},{lifetime:momentum.services.cacheTime},n);momentum.services.ajaxGet(momentum.services.objectService.handler,"GetObjectInformation",g,e,l)},postObjectInformationPreview:function(s,n,o,e,k,m,g,i,j,l,f,r,q,p){var h={SecurityTokenId:momentum.settings.securityTokenId,SyndicateNo:s,CompanyNo:n,Level:e,ClientNo:o,SeekAreaNo:k,AreaNo:m,HouseNo:g,EntranceNo:i,ObjectNo:j,TradingAd:l,DesignImageWidth:f,VirtualFilesPreview:r,ObjectInfoTextsPreview:q};momentum.services.ajaxPost(momentum.services.objectService.handler,"PostObjectInformationPreview",h,{},p)},getObjectsByHandler:function(f,e,h,k,g){var j={companyNo:f,securityTokenId:e,sellerNo:h};var i=$.extend({},{lifetime:momentum.services.cacheTime},g);momentum.services.ajaxGet(momentum.services.objectService.handler,"GetObjectsByHandler",j,i,k)},getObjectRadonInformation:function(e,h,g){var f={companyNo:e,objectNo:h};momentum.services.ajaxGet(momentum.services.objectService.handler,"GetObjectRadonInformation",f,{},g)},getTrimmaURL:function(e,i,f,h){var g={companyNo:e,objectNo:i};momentum.services.ajaxGet(momentum.services.objectService.handler,"GetTrimmaURL",g,f,h)},getObjectAdvertisementInformation:function(f,e,j,i,h){var g={securityTokenId:f,companyNo:e,objectNo:j,clientNo:i};momentum.services.ajaxGet(momentum.services.objectService.handler,"GetObjectAdvertisementInformation",g,{},h)},postSaveUpdateAdvertisement:function(g,e,i){var h={AdvertisementViewModel:g,SecurityTokenId:e};h=ko.toJS(h);var f={lifetime:0};momentum.services.ajaxPost(momentum.services.objectService.handler,"PostSaveUpdateAdvertisement",h,f,i)},postRemoveAdvertisement:function(g,e,i){var h={AdvertisementViewModel:g,SecurityTokenId:e};var f={lifetime:0};momentum.services.ajaxPost(momentum.services.objectService.handler,"PostRemoveAdvertisement",h,f,i)},getAdvertisementViewModel:function(e,i,h,g){var f={securityTokenId:momentum.settings.securityTokenId,companyNo:e,objectNo:i,clientNo:h};momentum.services.ajaxGet(momentum.services.objectService.handler,"GetAdvertisementViewModel",f,{lifetime:0},g)},getSearchAgreementViewModel:function(e,g){var f={securityTokenId:momentum.settings.securityTokenId,companyNo:e};momentum.services.ajaxGet(momentum.services.objectService.handler,"GetSearchAgreementViewModel",f,{lifetime:0},g)},getTranslateObjectQuickSearch:function(e,g,f,j,i){var h={securityTokenId:momentum.settings.securityTokenId,companyNo:e,type:g,searchstring:f,seekAreaNo:j};return momentum.services.ajaxGet(momentum.services.objectService.handler,"GetTranslateObjectQuickSearch",h,{lifetime:0},i)},getEcoguardURL:function(e,h,g){var f={companyNo:e,clientNo:h};momentum.services.ajaxGet(momentum.services.objectService.handler,"GetEcoguardURL",f,{async:false,lifetime:0},g)}};











momentum.services.clientService={handler:"API/Service/ClientServiceHandler.ashx",getClientByClientNo:function(h,g,f){var e={clientNo:h,withClientInfo:g};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientByClientNo",e,null,f)},

getClientAndProfileByClientNo:function(e,j,f,g,i){var h={companyNo:e,clientNo:j,surveyProfilePath:f};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientAndProfileByClientNo",h,g,i)},

getValidateSocialSecurityNoClientSide:function(g,h,j,k,i,e,l){var f={objectMainGroupNo:g,firstname:h,lastname:j,email:k,socialSecurityNo:i,foreignCitizenShip:e,isSeller:momentum.settings.isSeller};var m={lifetime:0};return momentum.services.ajaxGet(momentum.services.clientService.handler,"GetValidateSocialSecurityNoClientSide",f,m,l)},getSocialSecurityNoExists:function(j,h,f,g,i,l){var k={firstname:j,lastname:h,email:f,socialSecurityNo:g,foreignCitizenShip:i};var e={lifetime:0};return momentum.services.ajaxGet(momentum.services.clientService.handler,"GetSocialSecurityNoExists",k,e,l)},getCheckSyndicateAgeLimit:function(e,g){var f={socialSecurityNo:e};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetCheckSyndicateAgeLimit",f,null,g)},getCheckSyndicateObjectMainGroupAgeLimit:function(g,f,i,e){var h={syndicateObjectMainGroupNo:g,socialSecurityNo:f};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetCheckSyndicateObjectMainGroupAgeLimit",h,e,i)},getValidateUserName:function(i,h,g){var f={username:i,clientNo:h};var e={lifetime:0};momentum.services.ajaxGet(momentum.services.clientService.handler,"ValidateUserName",f,e,g)},

getUserBySocialSecurityNo:function(f,h){var g={socialSecurityNo:f};var e={lifetime:0,async:false};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetUserBySocialSecurityNo",g,e,h)},


getUserWithFakeSocialSecurityNo:function(i,h,f,g,k){var j={firstname:i,lastname:h,email:f,socialSecurityNo:g};var e={lifetime:0,async:false};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetUserWithFakeSocialSecurityNo",j,e,k)},postDeleteObjectEvent:function(f,k,j,e,i){var h={CompanyNo:f,ClientNo:k.toString(),ObjectNo:j,SecurityTokenId:e};var g={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostDeleteObjectEvent",h,g,i)},postConnectClientToFacebook:function(i,h,e,g){var f={ClientNo:i,FacebookUserId:h,SecurityTokenId:e};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostConnectoClientToFaceBook",f,null,g)},postClientAnswerOffer:function(m,i,j,h,g,e,k){var f={SyndicateNo:m,CompanyNo:i,ClientNo:j.toString(),AnswerNo:parseInt(h),ObjectNo:g,SecurityTokenId:e};var l={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostClientAnswerOffer",f,l,k)},postClientAnswerViewingOffer:function(m,i,j,h,g,e,k){var f={SyndicateNo:m,CompanyNo:i,ClientNo:j.toString(),AnswerNo:parseInt(h),ObjectNo:g,SecurityTokenId:e};var l={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostClientAnswerViewingOffer",f,l,k)},getActiveErrands:function(g,j,e,i){var h={syndicateNo:g,clientNo:j,securityTokenId:e};var f={lifetime:0};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetActiveErrands",h,f,i)},postSetClientSystemMessageRead:function(h,k,f,e,j){var i={CompanyNo:k,ClientNo:h,ObjectMainGroupNo:f,MessageSystemNo:e};var g={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"SetClientSystemMessageRead",i,g,j)},postSetClientSystemMessageRead:function(h,k,f,e,j){var i={CompanyNo:k,ClientNo:h,ObjectMainGroupNo:f,MessageSystemNo:e};var g={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"SetClientSystemMessageRead",i,g,j)},postDeleteClientSystemMessage:function(k,i,f,j,e,h,l){var g={CompanyNo:i,ClientNo:k,ObjectMainGroupNo:f,MessageSystemNo:j,MessageDescriptionSeller:e,MessageSystemCode:h};var m={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"DeleteClientSystemMessage",g,m,l)},postSetNotificationRead:function(e,g){var f={CompanyNo:1,KmId:e};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostSetNotificationRead",f,{},g)},postDeleteInterestAdvertisement:function(f,k,j,g,e,i){var h={CompanyNo:f,ClientNo:k.toString(),ObjectNo:j,User:g.toString(),SecurityTokenId:e};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostDeleteInterestAdvertisement",h,{},i)},getClientObjectMatchDemands:function(f,g,j,e,i){var h={syndicateNo:f,syndicateObjectMainGroupNo:g,clientNo:j,clientDemand:e};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientObjectMatchDemands",h,{},i)},validateRegisterCode:function(g,f,i){var h={syndicateObjectMainGroupNo:g,registrationCode:f};var e={lifetime:0,async:false};momentum.services.ajaxGet(momentum.services.clientService.handler,"ValidateRegistrationCode",h,e,i)},validateClientPostCodeForRegistration:function(g,j,e,i){var h={syndicateObjectMainGroupNo:g,addressPostCode:j,workPostCode:e};var f={lifetime:0};momentum.services.ajaxGet(momentum.services.clientService.handler,"ValidateClientPostCodeForRegistration",h,f,i)},getMatchingProfileObjects:function(k,f,h,l,e,j,g,m){var i={securityTokenId:momentum.settings.securityTokenId,companyNo:k,syndicateObjectMainGroupNo:f,syndicateObjectTypes:h,syndicateSeekAreas:l,freeText:e,page:j,take:g};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetMatchingProfileObjects",i,{},m)},getClientAutoInterests:function(e,i,h){var g={securityTokenId:momentum.settings.securityTokenId,companyNo:e,clientNo:i};var f={cache:false,lifetime:0};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientAutoInterests",g,f,h)},getObjectEventCount:function(f,e,i,h){var g={securityTokenId:momentum.settings.securityTokenId,syndicateNo:f,companyNo:e,clientNo:i};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetObjectEventCount",g,{},h)},postClientSurvey:function(g,f){var e={lifetime:0};momentum.services.ajaxPost(momentum.services.clientService.handler,"PostClientSurvey",g,e,f)},

getClientSurvey:function(g,f){var e={lifetime:0};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientSurvey",g,e,f)},getSignaturePadTempAgreementInfo:function(e,f,h){var g={companyNo:e,agreementNo:f};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetSignaturePadTempAgreementInfo",g,{lifetime:0,timeout:240000},h)},setSignaturePadSigningImage:function(e,f){momentum.services.ajaxPost(momentum.services.clientService.handler,"SetSignaturePadSigningImage",e,{lifetime:0,timeout:240000},f)},getUnsignedSellerAgreements:function(e,g){var f={companyNo:e};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetUnsignedSellerAgreements",f,{lifetime:0},g)},


getUserByLogin:function(f,i,e,h){var g={syndicateNo:f,username:i,password:e};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetUserByLogin",g,{lifetime:0},h)},postSetLedgerDistrubtion:function(e,j,h,f,g){var i={CompanyNo:e,ClientNo:j,AgreementNo:h,ByEmail:f,NotSentHome:g};return momentum.services.ajaxPost(momentum.services.clientService.handler,"PostSetLedgerDistrubtion",i,{lifetime:0},null)},getLedgerRow:function(e,g){var f={LedgerNo:e};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetLedgerRow",f,{lifetime:0},g)},getClientLivingInformation:function(e,i,h,g){var f={companyNo:e,clientNo:i,lang:h};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientLivingInformation",f,{loader:false},

function(k){var j={Success:k.Success,ErrorString:k.ErrorString,Result:null,};if(k.Success&&k.ResultObj.length>0){j.Result=_.chain(k.ResultObj).sortBy("Sortering").groupBy("AvtalNr").map(function(n,l,m){return{AvtalNr:l,Adress:_.find(n,function(p,o){return p.ProdAdress}).ProdAdress,ProduktTyp:_.find(n,function(p,o){return p.PtypBeteckning}).PtypBeteckning,Sektioner:_.map(n,function(q,p,r){var o=[];if(q.Attachments){$(q.Attachments.Attachments.Attachment).each(function(s,t){t.DownloadFileURL="//"+a.location.host+"/Momentum/API/ClientService/GetClientLivingAttachment/1/"+t.Filnamn+"/"+t.AttachId;o.push(t)})}return{AvtalNr:q.AvtalNr,Attachments:o,BoInfoId:q.BoInfoId,Rubrik:q.Rubrik,Meddelande:q.Meddelande,}})}}).value()}if(g){g(j)}}

)},
getClientContactPersons:function(e,i,h,g){var f={companyNo:e,clientNo:i,lang:h};momentum.services.ajaxGet(momentum.services.clientService.handler,"GetClientContactPersons",f,{loader:false},g)},postRegisterClientWithoutProfile:function(f,e,i,h){var g={SyndicateObjectMainGroupNo:f,MainClient:e,SecondaryClient:i};momentum.services.ajaxPost(momentum.services.clientService.handler,"RegisterClientWithoutProfile",g,null,h)},validateClientCreateCodes:function(f,e){momentum.services.ajaxGet(momentum.services.clientService.handler,"ValidateClientCreateCodes",f,null,e)},fileUploadSettings:function(h,g){var f={securityTokenId:momentum.settings.securityTokenId,clientNo:h,isSeller:false};var e={cache:false,lifetime:0};momentum.services.ajaxGet(momentum.services.clientService.handler,"FileUploadSettings",f,e,g)},updateFileVerification:function(f,e,h){var g={securityTokenId:momentum.settings.securityTokenId,clientUploadId:f,newVerified:e};momentum.services.ajaxPost(momentum.services.clientService.handler,"UpdateFileVerification",g,null,h)},downloadClientFile:function(f,i,e,h){var g={securityTokenId:momentum.settings.securityTokenId,clientUploadId:f,clientNo:i,filename:e};momentum.services.ajaxGet(momentum.services.clientService.handler,"DownloadClientFile",g,null,h)},deleteClientFile:function(f,j,e,g,i){var h={securityTokenId:momentum.settings.securityTokenId,clientUploadId:f,clientNo:j,filename:e,sellerNote:g};momentum.services.ajaxGet(momentum.services.clientService.handler,"DeleteClientFile",h,null,i)}};

momentum.services.searchService={handler:"API/Service/SearchServiceHandler.ashx",postObjectSearch:function(h,e,g){var f={cache:e};momentum.services.ajaxPost(momentum.services.searchService.handler,"PostObjectSearch",h,f,g)},getClientProfileSearch:function(g,e,i){var h={syndicateNo:momentum.settings.syndicateNo,objectMainGroupNo:momentum.settings.objectMainGroupNo,clientNo:momentum.settings.clientNo,orderby:g};var f={lifetime:momentum.services.cacheTime,cache:true};if(e==false){f.cache=e;f.lifetime=0}momentum.services.ajaxGet(momentum.services.searchService.handler,"ProfileFreeObjectSearch",h,f,i)},getClientQuickSearch:function(e,f,h){var g={companyNo:e,searchString:f};momentum.services.ajaxGet(momentum.services.searchService.handler,"GetClientQuickSearch",g,{},h)},getObjectQuickSearch:function(e,f,h){var g={securityTokenId:momentum.settings.securityTokenId,companyNo:e,searchString:f};momentum.services.ajaxGet(momentum.services.searchService.handler,"GetObjectQuickSearch",g,{},h)},getSearchParameters:function(h,e,g){var f={isTradingAdSearch:e,clientNo:h,};momentum.services.ajaxGet(momentum.services.searchService.handler,"GetSearchParameters",f,{lifetime:0},g)},getSearchParametersObjectMainGroup:function(e,g){var f={objectMainGroupNo:e};momentum.services.ajaxGet(momentum.services.searchService.handler,"GetSearchParametersObjectMainGroup",f,{lifetime:0},g)},getSearchAreas:function(e,h,g){var f={objectMainGroupNo:e,visibleClient:true,visibleProfile:true,asTree:h};momentum.services.ajaxGet(momentum.services.searchService.handler,"GetSearchAreas",f,{},g)},checkSearchResultValid:function(e){momentum.services.ajaxGet(momentum.services.searchService.handler,"CheckSearchResultValid",null,{loader:false,lifetime:30000},e)}};

momentum.services.utilityService={handler:"http://test-marknad.sgsstudentbostader.se/API/Service/UtilityServiceHandler.ashx",

getHtmlTemplate:function(e,g,i,f){var h={templateFileName:e,objectMainGroupNo:g};f=$.extend(f,{loader:false});return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetHtmlTemplate",h,f,i)},
getSettings:function(f){var e={async:false,cache:false,lifetime:0};
momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetSettings",{},e,f)},


getPageInfoXmls:function(f,e,h){var g={currentPage:e,objectMainGroupNo:f};momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetPageInfoXmls",g,{},h)},getXslMessageCode:function(e,g){var f={filename:e};momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetXslMessageCode",f,{async:false},g)},postUpdateObjectMainGroupNo:function(e,g){var f={objectMainGroupNo:e};momentum.services.ajaxPost(momentum.services.utilityService.handler,"PostUpdateObjectMainGroupNo",f,{},g)},getImageExists:function(g,i,f){var h={imageUrl:g};var e={error:f,async:false,loader:false};momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetImageExists",h,e,i)},searchPlaceName:function(e,h){var g={input:e};var f={cache:false,lifetime:0};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"SearchPlaceName",g,f,h)},getPlaceNameFilter:function(f,h){var g={postcode:f};var e={cache:false,lifetime:0};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetPlaceNameFilter",g,e,h)},getPlaceNameFilters:function(f){var e={cache:false,lifetime:0};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetPlaceNameFilters",{},e,f)},updatePlaceNameFilters:function(e,h,g,j){var i={securityTokenId:momentum.settings.securityTokenId,PostCode:e,PlaceName:h,filteredSyndicateObjectMainGroupNos:g};var f={cache:false,lifetime:0};return momentum.services.ajaxPost(momentum.services.utilityService.handler,"UpdatePlaceNameFilters",i,f,j)},insertPlaceNameFilter:function(e,g,i){var h={securityTokenId:momentum.settings.securityTokenId,postCode:e,syndicateObjectMainGroupNo:g};var f={cache:false,lifetime:0};return momentum.services.ajaxPost(momentum.services.utilityService.handler,"InsertPlaceNameFilter",h,f,i)},deletePlaceNameFilter:function(e,g,i){var h={securityTokenId:momentum.settings.securityTokenId,postCode:e,syndicateObjectMainGroupNo:g};var f={cache:false,lifetime:0};return momentum.services.ajaxPost(momentum.services.utilityService.handler,"DeletePlaceNameFilter",h,f,i)},getCityByZipCode:function(g,j,i,e){var h={zipcode:g,country:j};var f={};if(e!=b&&e!=null){f=e}momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetCityByPostCode",h,f,i)},getSyndicateObjectMainGroups:function(e){return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetSyndicateObjectMainGroups",{},{},e)},getAnnotationTypes:function(f,e,g,j,i){var h={securityTokenId:f,companyNo:e,visibleInClientList:g,visibleInObjectList:j};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetAnnotationTypes",h,{},i)},getAnnotationsProcedure:function(f,e,k,j,i,h){var g={securityTokenId:f,companyNo:e,clientNo:k,objectNo:j,showClient:i};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetAnnotationsProcedure",g,{},h)},postUpdatePageInfoElementValue:function(g,j,e,f,i){var h={CurrentXml:g,FallbackXml:j,PageInfoData:e,Value:f};momentum.services.ajaxPost(momentum.services.utilityService.handler,"PostUpdatePageInfoElementValue",h,{},i)},postSaveForcedAnnotation:function(e,h,j,i,g){var f={annotationNo:e,text:h,objectNo:j,clientNo:i};momentum.services.ajaxPost(momentum.services.utilityService.handler,"PostSaveForcedAnnotation",f,{},g)},postInsertUpdateAnnotation:function(e,k,n,j,m,i,h,l,g,o){var f={securityTokenId:e,companyNo:k,annotationId:n,annotationNo:j,clientNo:m,objectNo:i,annotationText:h,validTo:l,showClient:g};return momentum.services.ajaxPost(momentum.services.utilityService.handler,"PostInsertUpdateAnnotation",f,{},o)},postUpdateTableColumnSettings:function(f,e,h){var g={securityTokenId:momentum.settings.securityTokenId,clientNo:momentum.settings.clientNo,pageId:momentum.settings.pageId,pageName:momentum.settings.pageName,tableId:f,json:e};return momentum.services.ajaxPost(momentum.services.utilityService.handler,"UpdateTableColumnSettings",g,{},h)},getTableColumnSettings:function(e,g){var f={securityTokenId:momentum.settings.securityTokenId,clientNo:momentum.settings.clientNo,pageId:momentum.settings.pageId,pageName:momentum.settings.pageName,tableId:e,};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"GetTableColumnSettings",f,{},g)},lookupSocialSecurityNo:function(e,h,g){var f={socialSecurityNo:e,forceCreditCheck:h};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"LookupSocialSecurityNo",f,{},g)},validateSocialSecurityNo:function(f,e,h){var g={syndicateObjectMainGroupNo:f,socialSecurityNo:e};return momentum.services.ajaxGet(momentum.services.utilityService.handler,"ValidateSocialSecurityNo",g,{},h)},forceCreditCheckOnClient:function(g,f){var e={SecurityTokenId:momentum.settings.securityTokenId,CompanyNo:momentum.settings.companyNo,ClientNo:g,SellerNo:momentum.settings.clientNo};return momentum.services.ajaxPost(momentum.services.utilityService.handler,"ForceCreditCheckOnClient",e,{},f)}};

momentum.services.eventLogService={handler:"API/Service/EventLogServiceHandler.ashx",postEventLogSearch:function(e,g,h){var f={cache:false,lifetime:0};return momentum.services.ajaxPost(momentum.services.eventLogService.handler,"PostEventLogSearch",g,f,h)},GetEventLogForClientObject:function(e,l,i,g,h,k){var j={securityTokenId:e,clientNo:l,page:i,take:g,parameters:h};var f={lifetime:0,async:false};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogForClientObject",j,f,k)},getEventLogForObject:function(e,k,h,g,j){var i={securityTokenId:e,objectNo:k,page:h,take:g};var f={lifetime:0,async:false};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogForObject",i,f,j)},getEventLogActions:function(e,h){var g={securityTokenId:e};var f={lifetime:600000};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogActions",g,f,h)},getEventLogLocations:function(e,h){var g={securityTokenId:e};var f={lifetime:600000};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogLocations",g,f,h)},getEventLogPriorities:function(e,h){var g={securityTokenId:e};var f={lifetime:600000};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogPriorities",g,f,h)},getEventLogSearchPresets:function(e,h){var g={securityTokenId:e};var f={cache:false,lifetime:0};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogSearchPresets",g,f,h)},postSaveEventLogSearchPreset:function(e,h,g,j){var i={SecurityTokenId:e,Hashstring:h,Description:g};var f={cache:false,lifetime:0};return momentum.services.ajaxPost(momentum.services.eventLogService.handler,"PostSaveEventLogSearchPreset",i,f,function(k){if(k.Success){j(k)}else{momentum.dialogs.error("momentum.services Error",k.Message)}})},postDeleteEventLogSearchPreset:function(e,g,i){var h={SecurityTokenId:e,ParameterId:parseInt(g)};var f={cache:false,lifetime:0};momentum.services.ajaxPost(momentum.services.eventLogService.handler,"PostDeleteEventLogSearchPreset",h,f,i)},getEventLogFileblob:function(e,h,f,g,j){var i={securityTokenId:e,rowId:h,fileType:f,type:g};return momentum.services.ajaxGet(momentum.services.eventLogService.handler,"GetEventLogFileblob",i,{},j)}};

momentum.services.statisticsService={handler:"API/Service/StatisticsServiceHandler.ashx",getStatisticReports:function(f,e,g,i){var h={securityTokenId:f,companyNo:e,objectMainGroupNo:g};return momentum.services.ajaxGet(momentum.services.statisticsService.handler,"GetStatisticReports",h,{},i)}};momentum.services.brokerModuleService={handler:"API/Service/BrokerModuleServiceHandler.ashx",getBrokerModuleViewModel:function(o,n,g,i,l,e,m,k,j,f,p){var h={securityTokenId:momentum.settings.securityTokenId,companyNo:o,areaNo:n,houseNo:g,entranceNo:i,objectNo:l,estateNo:e,seekAreaNo:m,objectMainGroupNo:k,isDesignImage:j,active:f};var q={cache:false,lifetime:0};return momentum.services.ajaxGet(momentum.services.brokerModuleService.handler,"GetBrokerModuleViewModel",h,q,p)},postSaveChanges:function(f,g){cacheManager.clear();var e={cache:false,lifetime:0};return momentum.services.ajaxPost(momentum.services.brokerModuleService.handler,"PostSaveChanges",f,e,g)},getLevelInformation:function(q,m,p,i,k,n,g,o,l,h,f,e,r){var j={securityTokenId:momentum.settings.securityTokenId,companyNo:q,objectMainGroupNo:m,areaNo:p,houseNo:i,entranceNo:k,objectNo:n,estateNo:g,seekAreaNo:o,isDesignImage:l,active:h,allLevels:f,isFreeObject:e};return momentum.services.ajaxGet(momentum.services.brokerModuleService.handler,"GetLevelInformation",j,{lifetime:120000},r)}};momentum.services.onError=function(f){f=f||{};var h=f.xhr&&f.xhr.status;var k=f.xhr&&f.xhr.statusText;var j=f.xhr&&f.xhr.responseText;var i=f.message;if($.isFunction(f.errorCallback)){f.errorCallback();return}if(i==="Callback Error: timeout"){var l=(momentum.settings.clientLanguage=="se"?"Åtgärden tog för lång tid, var god försök igen.":"The request took too long, please try again.");momentum.dialogs.error("Timeout",l,{minHeight:"50","maxHeight:":"500"})}else{if(k==="abort"){}else{if(f.isCallbackError){var g={minHeight:"50","maxHeight:":"500",minWidth:"600"};momentum.dialogs.errorWithDetails("Momentum API fel",'Någonting gick fel vid datahämtning. Klicka på "Detaljer" för mer information, pröva även att ladda om sidan.',JSON.stringify(f,null,4).replace(/(\\r\\n|\\n\\r)/gm,"<br />"),g)}else{var e=momentum.services.parseResponseText(j);momentum.services.handleError(h,e)}}}};momentum.services.handleError=function(g,e){var f={minHeight:"50","maxHeight:":"500",minWidth:"600"};switch(g){case 555:momentum.dialogs.error("Någonting gick fel!","Det hände något oväntat på servern, prova att ladda om sidan. Om felet kvarstår var vänlig kontakta supporten.",f);break;default:if(e.success){momentum.dialogs.errorWithDetails("Momentum API",'Någonting gick fel vid datahämtning. Klicka på "Detaljer" för mer information, pröva även att ladda om sidan.',JSON.stringify(e.result,null,4).replace(/(\\r\\n|\\n\\r)/gm,"<br />"),f)}break}};momentum.services.parseResponseText=function(g){var f={};try{f.result=JSON.parse(g);f.success=true}catch(h){f.result="Ladda om sidan.";f.success=true}return f}})})(window);





















(function(c){c.fn.loginPopup=function(d){c.fn.loginPopup.settings=c.extend({},c.fn.navigation.defaults,d);c.fn.loginPopup.elements=this;c.fn.loginPopup.elements.css("cursor","pointer");return this.each(function(){a()})};

c.fn.loginPopup.settings={};c.fn.loginPopup.defaults={syndicateNo:1,clientNo:-1,firstName:"",lastName:""};

function a(){c("#login-modal").on("shown.bs.modal",function(d){c("#login-username").focus();c("#login-password").keypress(function(f){if(f.which==13){f.preventDefault();b()}}
);
c("#login-submit").click(function(f){f.preventDefault();b();return false})})}

function b(){var e={SyndicateNo:c.fn.loginPopup.settings.syndicateNo,Username:c("#login-username").val(),Password:c("#login-password").val()};

var d=c.Deferred();momentum.services.authorizationService.postLoginRequest(e.SyndicateNo,e.Username,e.Password,function(f){c("#login-username").val("");c("#login-password").val("");f.RedirectUrl=location.protocol+"//"+location.host+"/"+f.RedirectUrl;if(f.Success||f.ReturnCode==="TOOMANYFAILEDLOGINS"||f.ReturnCode==="FORCEPASSWORDCHANGE"){c("#login-modal").modal("hide");location.href=f.RedirectUrl}else{if(f.ReturnCode==="BLOCKED"){c("#login-modal").modal("hide");location.href=f.RedirectUrl}else{c.unblockUI();c("#login-error").html(f.Message);c("#login-error").children(":first").addClass("help-block");c("#login-username").focus()}}d.resolve(f)}

);return d.promise()}})(jQuery);












/*!
 * Simple jQuery Equal Heights
 *
 * Copyright (c) 2013 Matt Banks
 * Dual licensed under the MIT and GPL licenses.
 * Uses the same license as jQuery, see:
 * http://docs.jquery.com/License
 *
 * @version 1.5.1
 */
(function(a){a.fn.equalHeights=function(){var b=0,c=a(this);c.each(function(){var d=a(this).innerHeight();if(d>b){b=d}});console.log("maxHeight",b);return c.css("height",b).data("momentum-previous-height",b)};a("[data-equal]").each(function(){var c=a(this),b=c.data("equal");c.find(b).equalHeights()})})(jQuery);function getGRPAutoStartLink(b){var a="bankid:///?autostarttoken=[TOKEN]&redirect=null";a=a.replace("[TOKEN]",b.AutoStartToken);return a}window.isMobileBrowser=function(){var a=false;(function(b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a=true}})(navigator.userAgent||navigator.vendor||window.opera);return a};